<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1520" height="1451"><desc>title%20OpenAI%20proxy%20call%20flows%20diagram%0A%0Aparticipant%20%22Main%20Application%20with%20TinyMCE%5CnComponent%201%22%20as%20App%0Aparticipant%20%22Proxy%5CnComponent%202%22%20as%20Proxy%0Aparticipant%20%22Integrator%20Auth%20Endpoint%5CnComponent%203%22%20as%20AppServer%0Aparticipant%20%22OpenAI%20Moderation%20API%5CnComponent%204%22%20as%20ModerationAPI%0Aparticipant%20%22OpenAI%20Chat%20Completions%20API%5CnComponent%205%22%20as%20ChatCompletionsAPI%0A%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L7%3E%5BRef-1%5D%3C%2Flink%3E%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%3Clink%3A..%2F..%2Fexample-app%2Findex.js%23L56%3E%5BRef-1.1%5D%3C%2Flink%3E%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L21%3E%5BRef-2%5D%3C%2Flink%3E%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L13%3E%5BRef-3%5D%3C%2Flink%3E%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L16%3E%5BRef-4a%5D%3C%2Flink%3E%20%3Clink%3A..%2F..%2Fconfig%2Fwebapp.rego%23L16%3E%5BRef-4b%5D%3C%2Flink%3E%0AProxy-%3EModerationAPI%3A%20Does%20this%20request%20pass%20the%20moderation%20standards%3F%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L20%3E%5BRef-5%5D%3C%2Flink%3E%0AProxy%3C--ModerationAPI%3A%20No%20moderation%20flags%20-%20request%20would%20be%20accepted%20%3Clink%3A..%2F..%2Fconfig%2Fopenai.rego%23L97%3E%5BRef-5.1%5D%3C%2Flink%3E%0Anote%20over%20Proxy%3A%20Attach%20OpenAI%20API%20token%20to%20request%20%3Clink%3A..%2F..%2Fconfig%2Fopenai.rego%23L16%3E%5BRef-6%5D%3C%2Flink%3E%0AProxy-%3EChatCompletionsAPI%3A%20Chat%20completion%20request%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L25%3E%5BRef-7%5D%3C%2Flink%3E%0AProxy%3C--ChatCompletionsAPI%3A%20Chat%20completion%20response%0AApp%3C--Proxy%3A%20Chat%20completion%20response%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L42%3E%5BRef-3.1%5D%3C%2Flink%3E%0A%0Aalt%20auth%20failure%20call%20flow%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L7%3E%5BRef-1%5D%3C%2Flink%3E%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%3Clink%3A..%2F..%2Fexample-app%2Findex.js%23L56%3E%5BRef-1.1%5D%3C%2Flink%3E%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L21%3E%5BRef-2%5D%3C%2Flink%3E%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L13%3E%5BRef-3%5D%3C%2Flink%3E%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L16%3E%5BRef-4a%5D%3C%2Flink%3E%20%3Clink%3A..%2F..%2Fconfig%2Fwebapp.rego%23L16%3E%5BRef-4b%5D%3C%2Flink%3E%0AApp%3C--Proxy%3A%20403%20Forbidden%20(failed%20authentication)%20%3Clink%3A..%2F..%2Fconfig%2Fwebapp.rego%23L9%3E%5BRef-3.2a%5D%3C%2Flink%3E%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L36%3E%5BRef-3.2b%5D%3C%2Flink%3E%0Aend%0A%0Aalt%20moderation%20failure%20call%20flow%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L7%3E%5BRef-1%5D%3C%2Flink%3E%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%3Clink%3A..%2F..%2Fexample-app%2Findex.js%23L56%3E%5BRef-1.1%5D%3C%2Flink%3E%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L21%3E%5BRef-2%5D%3C%2Flink%3E%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L13%3E%5BRef-3%5D%3C%2Flink%3E%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L16%3E%5BRef-4a%5D%3C%2Flink%3E%20%3Clink%3A..%2F..%2Fconfig%2Fwebapp.rego%23L16%3E%5BRef-4b%5D%3C%2Flink%3E%0AProxy-%3EModerationAPI%3A%20Does%20this%20request%20pass%20the%20moderation%20standards%3F%20%3Clink%3A..%2F..%2Fconfig%2Fauthz.rego%23L20%3E%5BRef-5%5D%3C%2Flink%3E%0AProxy%3C--ModerationAPI%3A%20Moderation%20flags%20triggered%20%3Clink%3A..%2F..%2Fconfig%2Fopenai.rego%23L97%3E%5BRef-5.2%5D%3C%2Flink%3E%0AApp%3C--Proxy%3A%20400%20Bad%20Request%20(failed%20moderation)%20%3Clink%3A..%2F..%2Fexample-app%2Fai-request.js%23L36%3E%5BRef-3.3%5D%3C%2Flink%3E%0Aend%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1520" height="1451"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="582.2774339580226" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI proxy call flows diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 103.43953351200001 L 208.1114139788281 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 103.43953351200001 L 676.021144511256 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.6010162147716 103.43953351200001 L 911.6010162147716 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1147.1808879182872 103.43953351200001 L 1147.1808879182872 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1388.0052074081661 103.43953351200001 L 1388.0052074081661 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 79.28441242153514 47.799317964 L 336.93841553612106 47.799317964 L 336.93841553612106 103.439533512 L 79.28441242153514 103.439533512 L 79.28441242153514 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="95.64474680353513" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Main Application with TinyMCE</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.5030803911816" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 610.0524765416095 47.799317964 L 741.9898124809025 47.799317964 L 741.9898124809025 103.439533512 L 610.0524765416095 103.439533512 L 610.0524765416095 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="655.9211441297863" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Proxy</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="626.4128109236095" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 2</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 803.9656803068926 47.799317964 L 1019.2363521226505 47.799317964 L 1019.2363521226505 103.439533512 L 803.9656803068926 103.439533512 L 803.9656803068926 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="820.3260146888927" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Integrator Auth Endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="861.9926826271251" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 3</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1046.1955535362872 47.799317964 L 1248.1662223002872 47.799317964 L 1248.1662223002872 103.439533512 L 1046.1955535362872 103.439533512 L 1046.1955535362872 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1062.5558879182872" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI Moderation API</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1097.5725543306407" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 4</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1263.2448715002872 47.799317964 L 1512.765543316045 47.799317964 L 1512.765543316045 103.439533512 L 1263.2448715002872 103.439533512 L 1263.2448715002872 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1279.6052058822872" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI Chat Completions API</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1338.3968738205197" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 5</text></g></g><g><g><g><rect fill="white" stroke="none" x="428.53608336621386" y="133.596831912" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="430.7978807462139" y="147.167616192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request </text><a xlink:href="../../example-app/ai-request.js#L7"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="639.9145494473858" y="147.167616192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 153.199075872 L 899.1862617067716 153.199075872" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(911.6010162147716,153.199075872) translate(-911.6010162147716,-153.199075872)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 899.0354752147715 146.916305372 L 911.6010162147716 153.199075872 L 899.0354752147715 159.481846372 Z"/></g></g><g><g><rect fill="white" stroke="none" x="416.0944177167998" y="175.817049672" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="418.3562150967998" y="189.387833952" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response </text><a xlink:href="../../example-app/index.js#L56"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="638.3562150967998" y="189.387833952" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1.1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.6010162147716 195.419293632 L 220.5261684868281 195.419293632" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,195.419293632) translate(-208.1114139788281,-195.419293632)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 189.136523132 L 208.1114139788281 195.419293632 L 220.6769549788281 201.702064132 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 218.037267432 L 380.03406987765624 218.037267432 L 393.60485415765623 231.608051712 L 393.60485415765623 252.718160592 L 22.6179738 252.718160592 L 22.6179738 218.037267432 M 380.03406987765624 218.037267432 L 380.03406987765624 231.608051712 L 393.60485415765623 231.608051712" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="239.147376312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request </text><a xlink:href="../../example-app/ai-request.js#L21"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="323.4947452776562" y="239.147376312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-2]</text></a></g><g><g><rect fill="white" stroke="none" x="322.3128131638702" y="275.336134392" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="324.5746105438702" y="288.9069186720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request </text><a xlink:href="../../example-app/ai-request.js#L13"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="510.557947946214" y="288.9069186720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 294.93837835200003 L 663.606390003256 294.93837835200003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(676.021144511256,294.93837835200003) translate(-676.021144511256,-294.93837835200003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 663.455603511256 288.655607852 L 676.021144511256 294.93837835200003 L 663.455603511256 301.22114885200006 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 519.8027027588653 317.55635215200004 L 818.6688019836467 317.55635215200004 L 832.2395862636467 331.12713643200004 L 832.2395862636467 352.237245312 L 519.8027027588653 352.237245312 L 519.8027027588653 317.55635215200004 M 818.6688019836467 317.55635215200004 L 818.6688019836467 331.12713643200004 L 832.2395862636467 331.12713643200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.9128116388653" y="338.66646103200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization </text><a xlink:href="../../config/authz.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="690.1628116388653" y="338.66646103200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4a]</text></a><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="748.1461452265117" y="338.66646103200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><a xlink:href="../../config/webapp.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="752.8128117342327" y="338.66646103200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4b]</text></a></g><g><g><rect fill="white" stroke="none" x="697.2558905877013" y="374.85521911200004" width="428.6902512541406" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="699.5176879677012" y="388.4260033920001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Does this request pass the moderation standards? </text><a xlink:href="../../config/authz.rego#L20"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="1074.6843444618419" y="388.4260033920001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-5]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 394.45746307200005 L 1134.7661334102872 394.45746307200005" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1147.1808879182872,394.45746307200005) translate(-1147.1808879182872,-394.45746307200005)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1134.6153469182873 388.174692572 L 1147.1808879182872 394.45746307200005 L 1134.6153469182873 400.7402335720001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="693.864212731256" y="417.07543687200007" width="435.47360696703123" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="696.1260101112559" y="430.64622115200007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">No moderation flags - request would be accepted </text><a xlink:href="../../config/openai.rego#L97"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="1064.0760223182872" y="430.64622115200007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-5.1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1147.1808879182872 436.6776808320001 L 688.435899019256 436.6776808320001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(676.021144511256,436.6776808320001) translate(-676.021144511256,-436.6776808320001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.5866855112561 430.39491033200005 L 676.021144511256 436.6776808320001 L 688.5866855112561 442.9604513320001 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 498.41936693008415 459.2956546320001 L 840.0521378124279 459.2956546320001 L 853.6229220924279 472.8664389120001 L 853.6229220924279 493.9765477920001 L 498.41936693008415 493.9765477920001 L 498.41936693008415 459.2956546320001 M 840.0521378124279 459.2956546320001 L 840.0521378124279 472.8664389120001 L 853.6229220924279 472.8664389120001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="519.5294758100841" y="480.40576351200014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach OpenAI API token to request </text><a xlink:href="../../config/openai.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="783.5128132124279" y="480.40576351200014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-6]</text></a></g><g><g><rect fill="white" stroke="none" x="912.2597098785393" y="516.5945215920001" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="914.5215072585393" y="530.1653058720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request </text><a xlink:href="../../config/authz.rego#L25"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="1100.504844660883" y="530.1653058720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-7]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 536.1967655520001 L 1375.5904529001662 536.1967655520001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1388.0052074081661,536.1967655520001) translate(-1388.0052074081661,-536.1967655520001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1375.4396664081662 529.9139950520001 L 1388.0052074081661 536.1967655520001 L 1375.4396664081662 542.4795360520001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="933.6513801055901" y="558.8147393520001" width="196.7235917082422" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="935.91317748559" y="572.3855236320001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1388.0052074081661 578.4169833120001 L 688.435899019256 578.4169833120001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(676.021144511256,578.4169833120001) translate(-676.021144511256,-578.4169833120001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.5866855112561 572.1342128120001 L 676.021144511256 578.4169833120001 L 688.5866855112561 584.699753812 Z"/></g></g><g><g><rect fill="white" stroke="none" x="309.87114751445614" y="601.034957112" width="264.39026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="312.13294489445616" y="614.605741392" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion response </text><a xlink:href="../../example-app/ai-request.js#L42"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="508.99961359562803" y="614.605741392" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3.1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 620.637201072 L 220.5261684868281 620.637201072" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,620.637201072) translate(-208.1114139788281,-620.637201072)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 614.3544305720001 L 208.1114139788281 620.637201072 L 220.6769549788281 626.919971572 Z"/></g></g><g><g><rect fill="white" stroke="none" x="428.53608336621386" y="683.967527712" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="430.7978807462139" y="697.538311992" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request </text><a xlink:href="../../example-app/ai-request.js#L7"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="639.9145494473858" y="697.538311992" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 703.569771672 L 899.1862617067716 703.569771672" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(911.6010162147716,703.569771672) translate(-911.6010162147716,-703.569771672)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 899.0354752147715 697.287001172 L 911.6010162147716 703.569771672 L 899.0354752147715 709.852542172 Z"/></g></g><g><g><rect fill="white" stroke="none" x="416.0944177167998" y="726.187745472" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="418.3562150967998" y="739.758529752" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response </text><a xlink:href="../../example-app/index.js#L56"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="638.3562150967998" y="739.758529752" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1.1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.6010162147716 745.789989432 L 220.5261684868281 745.789989432" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,745.789989432) translate(-208.1114139788281,-745.789989432)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 739.507218932 L 208.1114139788281 745.789989432 L 220.6769549788281 752.0727599319999 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 768.407963232 L 380.03406987765624 768.407963232 L 393.60485415765623 781.978747512 L 393.60485415765623 803.088856392 L 22.6179738 803.088856392 L 22.6179738 768.407963232 M 380.03406987765624 768.407963232 L 380.03406987765624 781.978747512 L 393.60485415765623 781.978747512" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="789.518072112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request </text><a xlink:href="../../example-app/ai-request.js#L21"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="323.4947452776562" y="789.518072112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-2]</text></a></g><g><g><rect fill="white" stroke="none" x="322.3128131638702" y="825.706830192" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="324.5746105438702" y="839.277614472" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request </text><a xlink:href="../../example-app/ai-request.js#L13"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="510.557947946214" y="839.277614472" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 845.309074152 L 663.606390003256 845.309074152" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(676.021144511256,845.309074152) translate(-676.021144511256,-845.309074152)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 663.455603511256 839.026303652 L 676.021144511256 845.309074152 L 663.455603511256 851.591844652 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 519.8027027588653 867.9270479520001 L 818.6688019836467 867.9270479520001 L 832.2395862636467 881.4978322320001 L 832.2395862636467 902.607941112 L 519.8027027588653 902.607941112 L 519.8027027588653 867.9270479520001 M 818.6688019836467 867.9270479520001 L 818.6688019836467 881.4978322320001 L 832.2395862636467 881.4978322320001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.9128116388653" y="889.037156832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization </text><a xlink:href="../../config/authz.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="690.1628116388653" y="889.037156832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4a]</text></a><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="748.1461452265117" y="889.037156832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><a xlink:href="../../config/webapp.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="752.8128117342327" y="889.037156832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4b]</text></a></g><g><g><rect fill="white" stroke="none" x="225.95448219882812" y="925.225914912" width="432.22359409242796" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="228.2162795788281" y="938.796699192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">403 Forbidden (failed authentication) </text><a xlink:href="../../config/webapp.rego#L9"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="506.94961698117186" y="938.796699192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3.2a]</text></a><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="578.9329467541211" y="938.796699192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><a xlink:href="../../example-app/ai-request.js#L36"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="583.599613261842" y="938.796699192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3.2b]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 944.828158872 L 220.5261684868281 944.828158872" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,944.828158872) translate(-208.1114139788281,-944.828158872)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 938.545388372 L 208.1114139788281 944.828158872 L 220.6769549788281 951.110929372 Z"/></g></g><g><g><rect fill="white" stroke="none" x="428.53608336621386" y="1030.776459312" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="430.7978807462139" y="1044.347243592" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request </text><a xlink:href="../../example-app/ai-request.js#L7"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="639.9145494473858" y="1044.347243592" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 1050.378703272 L 899.1862617067716 1050.378703272" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(911.6010162147716,1050.378703272) translate(-911.6010162147716,-1050.378703272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 899.0354752147715 1044.095932772 L 911.6010162147716 1050.378703272 L 899.0354752147715 1056.661473772 Z"/></g></g><g><g><rect fill="white" stroke="none" x="416.0944177167998" y="1072.996677072" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="418.3562150967998" y="1086.567461352" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response </text><a xlink:href="../../example-app/index.js#L56"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="638.3562150967998" y="1086.567461352" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-1.1]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.6010162147716 1092.598921032 L 220.5261684868281 1092.598921032" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,1092.598921032) translate(-208.1114139788281,-1092.598921032)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 1086.316150532 L 208.1114139788281 1092.598921032 L 220.6769549788281 1098.8816915319999 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 1115.2168948319998 L 380.03406987765624 1115.2168948319998 L 393.60485415765623 1128.7876791119998 L 393.60485415765623 1149.8977879919998 L 22.6179738 1149.8977879919998 L 22.6179738 1115.2168948319998 M 380.03406987765624 1115.2168948319998 L 380.03406987765624 1128.7876791119998 L 393.60485415765623 1128.7876791119998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="1136.3270037119999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request </text><a xlink:href="../../example-app/ai-request.js#L21"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="323.4947452776562" y="1136.3270037119999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-2]</text></a></g><g><g><rect fill="white" stroke="none" x="322.3128131638702" y="1172.515761792" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="324.5746105438702" y="1186.086546072" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request </text><a xlink:href="../../example-app/ai-request.js#L13"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="510.557947946214" y="1186.086546072" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 1192.1180057519998 L 663.606390003256 1192.1180057519998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(676.021144511256,1192.1180057519998) translate(-676.021144511256,-1192.1180057519998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 663.455603511256 1185.8352352519998 L 676.021144511256 1192.1180057519998 L 663.455603511256 1198.4007762519998 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 519.8027027588653 1214.7359795519997 L 818.6688019836467 1214.7359795519997 L 832.2395862636467 1228.3067638319997 L 832.2395862636467 1249.4168727119998 L 519.8027027588653 1249.4168727119998 L 519.8027027588653 1214.7359795519997 M 818.6688019836467 1214.7359795519997 L 818.6688019836467 1228.3067638319997 L 832.2395862636467 1228.3067638319997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.9128116388653" y="1235.8460884319998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization </text><a xlink:href="../../config/authz.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="690.1628116388653" y="1235.8460884319998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4a]</text></a><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="748.1461452265117" y="1235.8460884319998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><a xlink:href="../../config/webapp.rego#L16"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="752.8128117342327" y="1235.8460884319998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-4b]</text></a></g><g><g><rect fill="white" stroke="none" x="697.2558905877013" y="1272.0348465119998" width="428.6902512541406" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="699.5176879677012" y="1285.6056307919998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Does this request pass the moderation standards? </text><a xlink:href="../../config/authz.rego#L20"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="1074.6843444618419" y="1285.6056307919998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-5]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 1291.6370904719997 L 1134.7661334102872 1291.6370904719997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1147.1808879182872,1291.6370904719997) translate(-1147.1808879182872,-1291.6370904719997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1134.6153469182873 1285.3543199719998 L 1147.1808879182872 1291.6370904719997 L 1134.6153469182873 1297.9198609719997 Z"/></g></g><g><g><rect fill="white" stroke="none" x="777.8808829583068" y="1314.2550642719998" width="267.44026651292967" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="780.1426803383067" y="1327.8258485519998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Moderation flags triggered </text><a xlink:href="../../config/openai.rego#L97"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="980.0593520912364" y="1327.8258485519998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-5.2]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1147.1808879182872 1333.8573082319997 L 688.435899019256 1333.8573082319997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(676.021144511256,1333.8573082319997) translate(-676.021144511256,-1333.8573082319997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.5866855112561 1327.5745377319997 L 676.021144511256 1333.8573082319997 L 688.5866855112561 1340.1400787319997 Z"/></g></g><g><g><rect fill="white" stroke="none" x="270.21282231914364" y="1356.4752820319998" width="343.70691385179686" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="272.47461969914366" y="1370.0460663119998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">400 Bad Request (failed moderation) </text><a xlink:href="../../example-app/ai-request.js#L36"><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="underline" x="548.6579387909405" y="1370.0460663119998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ref-3.3]</text></a></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 676.021144511256 1376.0775259919997 L 220.5261684868281 1376.0775259919997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,1376.0775259919997) translate(-208.1114139788281,-1376.0775259919997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 1369.7947554919997 L 208.1114139788281 1376.0775259919997 L 220.6769549788281 1382.3602964919996 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 643.255174872 L 964.3762884147716 643.255174872 L 964.3762884147716 967.446132672 L 15.078649200000001 967.446132672 L 15.078649200000001 643.255174872 Z" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 643.255174872 L 15.078649200000001 661.349553912 L 62.78594683706055 661.349553912 L 71.83313635706055 652.302364392 L 71.83313635706055 643.255174872 L 15.078649200000001 643.255174872" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="30.157298400000002" y="655.318094232" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="84.64998817706055" y="644.4614668080001" width="151.39026346117188" height="15.681795168000004"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="86.91178555706055" y="655.318094232" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[auth failure call flow]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 990.0641064719999 L 1199.9561601182872 990.0641064719999 L 1199.9561601182872 1398.6954997919997 L 15.078649200000001 1398.6954997919997 L 15.078649200000001 990.0641064719999 Z" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 990.0641064719999 L 15.078649200000001 1008.158485512 L 62.78594683706055 1008.158485512 L 71.83313635706055 999.1112959919999 L 71.83313635706055 990.0641064719999 L 15.078649200000001 990.0641064719999" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="30.157298400000002" y="1002.127025832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="84.64998817706055" y="991.270398408" width="197.57359781175782" height="15.681795168000004"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="86.91178555706055" y="1002.127025832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[moderation failure call flow]</text></g></g></g></svg>