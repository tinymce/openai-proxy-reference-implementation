<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1510" height="1451"><desc>title%20OpenAI%20proxy%20call%20flows%20diagram%0A%0Aparticipant%20%22Main%20Application%20with%20TinyMCE%5CnComponent%201%22%20as%20App%0Aparticipant%20%22Proxy%5CnComponent%202%22%20as%20Proxy%0Aparticipant%20%22Integrator%20Auth%20Endpoint%5CnComponent%203%22%20as%20AppServer%0Aparticipant%20%22OpenAI%20Moderation%20API%5CnComponent%204%22%20as%20ModerationAPI%0Aparticipant%20%22OpenAI%20Chat%20Completions%20API%5CnComponent%205%22%20as%20ChatCompletionsAPI%0A%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%5BRef-1%5D%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%5BRef-1.1%5D%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%5BRef-2%5D%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%5BRef-3%5D%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%5BRef-4a%5D%20%5BRef-4b%5D%0AProxy-%3EModerationAPI%3A%20Does%20this%20request%20pass%20the%20moderation%20standards%3F%20%5BRef-5%5D%0AProxy%3C--ModerationAPI%3A%20No%20moderation%20flags%20-%20request%20would%20be%20accepted%20%5BRef-5.1%5D%0Anote%20over%20Proxy%3A%20Attach%20OpenAI%20API%20token%20to%20request%20%5BRef-6%5D%0AProxy-%3EChatCompletionsAPI%3A%20Chat%20completion%20request%20%5BRef-7%5D%0AProxy%3C--ChatCompletionsAPI%3A%20Chat%20completion%20response%0AApp%3C--Proxy%3A%20Chat%20completion%20response%20%5BRef-3.1%5D%0A%0Aalt%20auth%20failure%20call%20flow%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%5BRef-1%5D%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%5BRef-1.1%5D%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%5BRef-2%5D%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%5BRef-3%5D%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%5BRef-4a%5D%20%5BRef-4b%5D%0AApp%3C--Proxy%3A%20403%20Forbidden%20(failed%20authorization)%20%5BRef-3.2a%5D%20%5BRef-3.2b%5D%0Aend%0A%0Aalt%20moderation%20failure%20call%20flow%0AApp-%3EAppServer%3A%20Authorization%20token%20request%20%5BRef-1%5D%0AApp%3C-AppServer%3A%20Authorization%20token%20response%20%5BRef-1.1%5D%0Anote%20over%20App%3A%20Attach%20authorization%20token%20to%20request%20%5BRef-2%5D%0AApp-%3EProxy%3A%20Chat%20completion%20request%20%5BRef-3%5D%0Anote%20over%20Proxy%3A%20Verify%20Authorization%20%5BRef-4a%5D%20%5BRef-4b%5D%0AProxy-%3EModerationAPI%3A%20Does%20this%20request%20pass%20the%20moderation%20standards%3F%20%5BRef-5%5D%0AProxy%3C--ModerationAPI%3A%20Moderation%20flags%20triggered%20%5BRef-5.2%5D%0AApp%3C--Proxy%3A%20400%20Bad%20Request%20(failed%20moderation)%20%5BRef-3.3%5D%0Aend%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1510" height="1451"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="577.5607655906367" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI proxy call flows diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 103.43953351200001 L 208.1114139788281 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 103.43953351200001 L 666.5878077764843 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 902.1676794799998 103.43953351200001 L 902.1676794799998 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1137.7475511835155 103.43953351200001 L 1137.7475511835155 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1378.5718706733944 103.43953351200001 L 1378.5718706733944 1451.4707719919998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 79.28441242153514 47.799317964 L 336.93841553612106 47.799317964 L 336.93841553612106 103.439533512 L 79.28441242153514 103.439533512 L 79.28441242153514 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="95.64474680353513" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Main Application with TinyMCE</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.5030803911816" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 600.6191398068378 47.799317964 L 732.5564757461308 47.799317964 L 732.5564757461308 103.439533512 L 600.6191398068378 103.439533512 L 600.6191398068378 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="646.4878073950146" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Proxy</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="616.9794741888378" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 2</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 794.5323435721209 47.799317964 L 1009.8030153878788 47.799317964 L 1009.8030153878788 103.439533512 L 794.5323435721209 103.439533512 L 794.5323435721209 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="810.8926779541209" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Integrator Auth Endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="852.5593458923533" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 3</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1036.7622168015155 47.799317964 L 1238.7328855655155 47.799317964 L 1238.7328855655155 103.439533512 L 1036.7622168015155 103.439533512 L 1036.7622168015155 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1053.1225511835155" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI Moderation API</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1088.139217595869" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 4</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1253.8115347655155 47.799317964 L 1503.3322065812733 47.799317964 L 1503.3322065812733 103.439533512 L 1253.8115347655155 103.439533512 L 1253.8115347655155 47.799317964 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1270.1718691475155" y="73.282235112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenAI Chat Completions API</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1328.963537085748" y="88.360884312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Component 5</text></g></g><g><g><g><rect fill="white" stroke="none" x="423.819414998828" y="133.596831912" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="426.081212378828" y="147.167616192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request [Ref-1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 153.199075872 L 889.7529249719998 153.199075872" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(902.1676794799998,153.199075872) translate(-902.1676794799998,-153.199075872)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 889.6021384799998 146.916305372 L 902.1676794799998 153.199075872 L 889.6021384799998 159.481846372 Z"/></g></g><g><g><rect fill="white" stroke="none" x="411.37774934941393" y="175.817049672" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.63954672941395" y="189.387833952" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response [Ref-1.1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 902.1676794799998 195.419293632 L 220.5261684868281 195.419293632" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,195.419293632) translate(-208.1114139788281,-195.419293632)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 189.136523132 L 208.1114139788281 195.419293632 L 220.6769549788281 201.702064132 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 218.037267432 L 380.03406987765624 218.037267432 L 393.60485415765623 231.608051712 L 393.60485415765623 252.718160592 L 22.6179738 252.718160592 L 22.6179738 218.037267432 M 380.03406987765624 218.037267432 L 380.03406987765624 231.608051712 L 393.60485415765623 231.608051712" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="239.147376312" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request [Ref-2]</text></g><g><g><rect fill="white" stroke="none" x="317.59614479648434" y="275.336134392" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.85794217648436" y="288.9069186720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request [Ref-3]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 294.93837835200003 L 654.1730532684843 294.93837835200003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(666.5878077764843,294.93837835200003) translate(-666.5878077764843,-294.93837835200003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 654.0222667764842 288.655607852 L 666.5878077764843 294.93837835200003 L 654.0222667764842 301.22114885200006 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 510.36936149414055 317.55635215200004 L 809.235469778828 317.55635215200004 L 822.806254058828 331.12713643200004 L 822.806254058828 352.237245312 L 510.36936149414055 352.237245312 L 510.36936149414055 317.55635215200004 M 809.235469778828 317.55635215200004 L 809.235469778828 331.12713643200004 L 822.806254058828 331.12713643200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="531.4794703741405" y="338.66646103200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization [Ref-4a] [Ref-4b]</text></g><g><g><rect fill="white" stroke="none" x="687.8225538529296" y="374.85521911200004" width="428.6902512541406" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="690.0843512329295" y="388.4260033920001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Does this request pass the moderation standards? [Ref-5]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 394.45746307200005 L 1125.3327966755155 394.45746307200005" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1137.7475511835155,394.45746307200005) translate(-1137.7475511835155,-394.45746307200005)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1125.1820101835156 388.174692572 L 1137.7475511835155 394.45746307200005 L 1125.1820101835156 400.7402335720001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="684.4308759964842" y="417.07543687200007" width="435.47360696703123" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="686.6926733764842" y="430.64622115200007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">No moderation flags - request would be accepted [Ref-5.1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1137.7475511835155 436.6776808320001 L 679.0025622844843 436.6776808320001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(666.5878077764843,436.6776808320001) translate(-666.5878077764843,-436.6776808320001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 679.1533487764843 430.39491033200005 L 666.5878077764843 436.6776808320001 L 679.1533487764843 442.9604513320001 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 488.9860301953124 459.2956546320001 L 830.6188010776561 459.2956546320001 L 844.1895853576561 472.8664389120001 L 844.1895853576561 493.9765477920001 L 488.9860301953124 493.9765477920001 L 488.9860301953124 459.2956546320001 M 830.6188010776561 459.2956546320001 L 830.6188010776561 472.8664389120001 L 844.1895853576561 472.8664389120001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="510.0961390753124" y="480.40576351200014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach OpenAI API token to request [Ref-6]</text></g><g><g><rect fill="white" stroke="none" x="902.8263731437676" y="516.5945215920001" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="905.0881705237675" y="530.1653058720001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request [Ref-7]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 536.1967655520001 L 1366.1571161653944 536.1967655520001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1378.5718706733944,536.1967655520001) translate(-1378.5718706733944,-536.1967655520001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1366.0063296733945 529.9139950520001 L 1378.5718706733944 536.1967655520001 L 1366.0063296733945 542.4795360520001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="924.2180433708184" y="558.8147393520001" width="196.7235917082422" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="926.4798407508183" y="572.3855236320001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1378.5718706733944 578.4169833120001 L 679.0025622844843 578.4169833120001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(666.5878077764843,578.4169833120001) translate(-666.5878077764843,-578.4169833120001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 679.1533487764843 572.1342128120001 L 666.5878077764843 578.4169833120001 L 679.1533487764843 584.699753812 Z"/></g></g><g><g><rect fill="white" stroke="none" x="305.1544791470703" y="601.034957112" width="264.39026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="307.4162765270703" y="614.605741392" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion response [Ref-3.1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 620.637201072 L 220.5261684868281 620.637201072" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,620.637201072) translate(-208.1114139788281,-620.637201072)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 614.3544305720001 L 208.1114139788281 620.637201072 L 220.6769549788281 626.919971572 Z"/></g></g><g><g><rect fill="white" stroke="none" x="423.819414998828" y="683.967527712" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="426.081212378828" y="697.538311992" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request [Ref-1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 703.569771672 L 889.7529249719998 703.569771672" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(902.1676794799998,703.569771672) translate(-902.1676794799998,-703.569771672)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 889.6021384799998 697.287001172 L 902.1676794799998 703.569771672 L 889.6021384799998 709.852542172 Z"/></g></g><g><g><rect fill="white" stroke="none" x="411.37774934941393" y="726.187745472" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.63954672941395" y="739.758529752" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response [Ref-1.1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 902.1676794799998 745.789989432 L 220.5261684868281 745.789989432" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,745.789989432) translate(-208.1114139788281,-745.789989432)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 739.507218932 L 208.1114139788281 745.789989432 L 220.6769549788281 752.0727599319999 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 768.407963232 L 380.03406987765624 768.407963232 L 393.60485415765623 781.978747512 L 393.60485415765623 803.088856392 L 22.6179738 803.088856392 L 22.6179738 768.407963232 M 380.03406987765624 768.407963232 L 380.03406987765624 781.978747512 L 393.60485415765623 781.978747512" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="789.518072112" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request [Ref-2]</text></g><g><g><rect fill="white" stroke="none" x="317.59614479648434" y="825.706830192" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.85794217648436" y="839.277614472" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request [Ref-3]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 845.309074152 L 654.1730532684843 845.309074152" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(666.5878077764843,845.309074152) translate(-666.5878077764843,-845.309074152)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 654.0222667764842 839.026303652 L 666.5878077764843 845.309074152 L 654.0222667764842 851.591844652 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 510.36936149414055 867.9270479520001 L 809.235469778828 867.9270479520001 L 822.806254058828 881.4978322320001 L 822.806254058828 902.607941112 L 510.36936149414055 902.607941112 L 510.36936149414055 867.9270479520001 M 809.235469778828 867.9270479520001 L 809.235469778828 881.4978322320001 L 822.806254058828 881.4978322320001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="531.4794703741405" y="889.037156832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization [Ref-4a] [Ref-4b]</text></g><g><g><rect fill="white" stroke="none" x="225.95448219882812" y="925.225914912" width="422.79025735765623" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="228.2162795788281" y="938.796699192" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">403 Forbidden (failed authorization) [Ref-3.2a] [Ref-3.2b]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 944.828158872 L 220.5261684868281 944.828158872" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,944.828158872) translate(-208.1114139788281,-944.828158872)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 938.545388372 L 208.1114139788281 944.828158872 L 220.6769549788281 951.110929372 Z"/></g></g><g><g><rect fill="white" stroke="none" x="423.819414998828" y="1030.776459312" width="262.64026346117186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="426.081212378828" y="1044.347243592" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token request [Ref-1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 1050.378703272 L 889.7529249719998 1050.378703272" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(902.1676794799998,1050.378703272) translate(-902.1676794799998,-1050.378703272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 889.6021384799998 1044.095932772 L 902.1676794799998 1050.378703272 L 889.6021384799998 1056.661473772 Z"/></g></g><g><g><rect fill="white" stroke="none" x="411.37774934941393" y="1072.996677072" width="287.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.63954672941395" y="1086.567461352" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization token response [Ref-1.1]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 902.1676794799998 1092.598921032 L 220.5261684868281 1092.598921032" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(208.1114139788281,1092.598921032) translate(-208.1114139788281,-1092.598921032)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 1086.316150532 L 208.1114139788281 1092.598921032 L 220.6769549788281 1098.8816915319999 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 22.6179738 1115.2168948319998 L 380.03406987765624 1115.2168948319998 L 393.60485415765623 1128.7876791119998 L 393.60485415765623 1149.8977879919998 L 22.6179738 1149.8977879919998 L 22.6179738 1115.2168948319998 M 380.03406987765624 1115.2168948319998 L 380.03406987765624 1128.7876791119998 L 393.60485415765623 1128.7876791119998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.72808267999997" y="1136.3270037119999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Attach authorization token to request [Ref-2]</text></g><g><g><rect fill="white" stroke="none" x="317.59614479648434" y="1172.515761792" width="239.50693216234376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.85794217648436" y="1186.086546072" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat completion request [Ref-3]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 208.1114139788281 1192.1180057519998 L 654.1730532684843 1192.1180057519998" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(666.5878077764843,1192.1180057519998) translate(-666.5878077764843,-1192.1180057519998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 654.0222667764842 1185.8352352519998 L 666.5878077764843 1192.1180057519998 L 654.0222667764842 1198.4007762519998 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 510.36936149414055 1214.7359795519997 L 809.235469778828 1214.7359795519997 L 822.806254058828 1228.3067638319997 L 822.806254058828 1249.4168727119998 L 510.36936149414055 1249.4168727119998 L 510.36936149414055 1214.7359795519997 M 809.235469778828 1214.7359795519997 L 809.235469778828 1228.3067638319997 L 822.806254058828 1228.3067638319997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="531.4794703741405" y="1235.8460884319998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify Authorization [Ref-4a] [Ref-4b]</text></g><g><g><rect fill="white" stroke="none" x="687.8225538529296" y="1272.0348465119998" width="428.6902512541406" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="690.0843512329295" y="1285.6056307919998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Does this request pass the moderation standards? [Ref-5]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 1291.6370904719997 L 1125.3327966755155 1291.6370904719997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1137.7475511835155,1291.6370904719997) translate(-1137.7475511835155,-1291.6370904719997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1125.1820101835156 1285.3543199719998 L 1137.7475511835155 1291.6370904719997 L 1125.1820101835156 1297.9198609719997 Z"/></g></g><g><g><rect fill="white" stroke="none" x="768.4475538529296" y="1314.2550642719998" width="267.4402512541406" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="770.7093512329295" y="1327.8258485519998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Moderation flags triggered [Ref-5.2]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1137.7475511835155 1333.8573082319997 L 679.0025622844843 1333.8573082319997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(666.5878077764843,1333.8573082319997) translate(-666.5878077764843,-1333.8573082319997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 679.1533487764843 1327.5745377319997 L 666.5878077764843 1333.8573082319997 L 679.1533487764843 1340.1400787319997 Z"/></g></g><g><g><rect fill="white" stroke="none" x="265.4961539517578" y="1356.4752820319998" width="343.70691385179686" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="267.7579513317578" y="1370.0460663119998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">400 Bad Request (failed moderation) [Ref-3.3]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 666.5878077764843 1376.0775259919997 L 220.5261684868281 1376.0775259919997" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(208.1114139788281,1376.0775259919997) translate(-208.1114139788281,-1376.0775259919997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 220.6769549788281 1369.7947554919997 L 208.1114139788281 1376.0775259919997 L 220.6769549788281 1382.3602964919996 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 643.255174872 L 954.9429516799999 643.255174872 L 954.9429516799999 967.446132672 L 15.078649200000001 967.446132672 L 15.078649200000001 643.255174872 Z" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 643.255174872 L 15.078649200000001 661.349553912 L 62.78594683706055 661.349553912 L 71.83313635706055 652.302364392 L 71.83313635706055 643.255174872 L 15.078649200000001 643.255174872" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="30.157298400000002" y="655.318094232" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="84.64998817706055" y="644.4614668080001" width="151.39026346117188" height="15.681795168000004"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="86.91178555706055" y="655.318094232" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[auth failure call flow]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 990.0641064719999 L 1190.5228233835155 990.0641064719999 L 1190.5228233835155 1398.6954997919997 L 15.078649200000001 1398.6954997919997 L 15.078649200000001 990.0641064719999 Z" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.078649200000001 990.0641064719999 L 15.078649200000001 1008.158485512 L 62.78594683706055 1008.158485512 L 71.83313635706055 999.1112959919999 L 71.83313635706055 990.0641064719999 L 15.078649200000001 990.0641064719999" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="30.157298400000002" y="1002.127025832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="84.64998817706055" y="991.270398408" width="197.57359781175782" height="15.681795168000004"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="86.91178555706055" y="1002.127025832" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[moderation failure call flow]</text></g></g></g></svg>